default:
  callback: "on_select"
  uri:
    $ref: ""
  delay: 300
  payload:
    $ref: "./default/template/error.yaml"

#v 2.1.0
personal-loan-form1:
  condition:
      operation:
        type: AND
        input:
          value:
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.message.order.items.0.id"
                  - "CHILD_ITEM_ID_PERSONAL_LOAN"
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.message.order.items.0.xinput"
                  - "undefined"
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.context.version"
                  - "2.1.0"        
  callback: "on_select"
  uri:
    $ref: ""
  delay: 300
  payload:
    $ref: "./loan/personal-loan/template/on_select_form1.yaml"

personal-loan-form2:
  condition:
      operation:
        type: AND
        input:
          value:
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.message.order.items.0.id"
                  - "CHILD_ITEM_ID_PERSONAL_LOAN"
          - operation:
                type: EQUAL
                title: Check search message code
                input:
                  value:
                    - operation:
                        type: READ
                        input:
                          value: "req_body.message.order.items.0.xinput.form_response.submission_id"
                    - "F02_SUBMISSION_ID"
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.context.version"
                  - "2.1.0"        
  callback: "on_select"
  uri:
    $ref: ""
  delay: 300
  payload:
    $ref: "./loan/personal-loan/template/on_select_form2.yaml"

#v 2.0.0
personal-loan-form1_2_0_0:
  condition:
      operation:
        type: AND
        input:
          value:
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.message.order.items.0.id"
                  - "ITEM_ID_1_PERSONAL-LOAN"

          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.message.order.items.0.xinput.form_response.submission_id"
                  - "form1_submissionid"
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.message.order.items.0.xinput.form_response.status"
                  - "PENDING"        
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.context.version"
                  - "2.0.0"
  callback: "on_select"
  uri:
    $ref: ""
  delay: 300
  payload:
    $ref: "./loan/personal-loan_2_0_0/template/on_select_form1.yaml"

personal-loan-form2_2_0_0:
  condition:
      operation:
        type: AND
        input:
          value:
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.message.order.items.0.id"
                  - "ITEM_ID_1_PERSONAL-LOAN"
          - operation:
                type: EQUAL
                title: Check search message code
                input:
                  value:
                    - operation:
                        type: READ
                        input:
                          value: "req_body.message.order.items.0.xinput.form_response.submission_id"
                    - "form1_submissionid"
          # - operation:
          #     type: EQUAL
          #     title: Check search message code
          #     input:
          #       value:
          #         - operation:
          #             type: READ
          #             input:
          #               value: "req_body.message.order.items.0.xinput.form_response.status"
          #         - "APPROVED"                
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.context.version"
                  - "2.0.0"
  callback: "on_select"
  uri:
    $ref: ""
  delay: 300
  payload:
    $ref: "./loan/personal-loan_2_0_0/template/on_select_form2.yaml"

personal-loan-form3_2_0_0:
  condition:
      operation:
        type: AND
        input:
          value:
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.message.order.items.0.id"
                  - "ITEM_ID_1_PERSONAL-LOAN"
          - operation:
                type: EQUAL
                title: Check search message code
                input:
                  value:
                    - operation:
                        type: READ
                        input:
                          value: "req_body.message.order.items.0.xinput.form_response.submission_id"
                    - "form2_submissionid"  
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.context.version"
                  - "2.0.0"
  callback: "on_select"
  uri:
    $ref: ""
  delay: 300
  payload:
    $ref: "./loan/personal-loan_2_0_0/template/on_select_form3.yaml"


#invoice based on select responses
invoice-based-loans_on_select1:
  condition:
      operation:
        type: AND
        input:
          value:
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.message.order.items.0.id"
                  - "CHILD_ITEM_ID_INVOICE_LOAN"
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.message.order.items.0.xinput"
                  - "undefined"
  callback: "on_select"
  uri:
    $ref: ""
  delay: 300
  payload:
    $ref: "./loan/invoice-based-loans/template/on_select_1.yaml"

invoice-based-loans_on_select2:
  condition:
      operation:
        type: AND
        input:
          value:
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.message.order.items.0.id"
                  - "CHILD_ITEM_ID_INVOICE_LOAN"
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.message.order.items.0.xinput.form_response.submission_id"
                  - "F02_SUBMISSION_ID"
  callback: "on_select"
  uri:
    $ref: ""
  delay: 300
  payload:
    $ref: "./loan/invoice-based-loans/template/on_select_2.yaml"


#invoice based on select responses

health-based-insurance1:
  condition:
      operation:
        type: AND
        input:
          value:
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.message.order.items.0.id"
                  - "CHILD_ITEM_ID_I1"
          - operation:
                type: EQUAL
                title: Check search message code
                input:
                  value:
                    - operation:
                        type: READ
                        input:
                          value: "req_body.message.order.items.0.xinput.form_response.submission_id"
                    - "F03_SUBMISSION_ID"
          
  callback: "on_select"
  uri:
    $ref: ""
  delay: 300
  payload:
    $ref: "./insurance/health-insurance/template/on_select1.yaml"


marine-based-insurance1:
  condition:
      operation:
        type: AND
        input:
          value:
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.message.order.items.0.id"
                  - "ITEM_ID_1_MARINE-INSURANCE"
          - operation:
                type: EQUAL
                title: Check search message code
                input:
                  value:
                    - operation:
                        type: READ
                        input:
                          value: "req_body.message.order.items.0.xinput.form_response.submission_id"
                    - "form1_submissionid"
          
  callback: "on_select"
  uri:
    $ref: ""
  delay: 300
  payload:
    $ref: "./insurance/marine-insurance/template/on_select1.yaml"          

marine-based-insurance2:
  condition:
      operation:
        type: AND
        input:
          value:
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.message.order.items.0.id"
                  - "ITEM_ID_1_MARINE-INSURANCE"
          - operation:
                type: EQUAL
                title: Check search message code
                input:
                  value:
                    - operation:
                        type: READ
                        input:
                          value: "req_body.message.order.items.0.xinput.form_response.submission_id"
                    - "form2_submissionid"
          
  callback: "on_select"
  uri:
    $ref: ""
  delay: 300
  payload:
    $ref: "./insurance/marine-insurance/template/on_select2.yaml"      


motor-based-insurance1:
  condition:
      operation:
        type: AND
        input:
          value:
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.message.order.items.0.id"
                  - "CHILD_ITEM_CI1"
          - operation:
                type: EQUAL
                title: Check search message code
                input:
                  value:
                    - operation:
                        type: READ
                        input:
                          value: "req_body.message.order.items.0.xinput"
                    - "undefined"
          
  callback: "on_select"
  uri:
    $ref: ""
  delay: 300
  payload:
    $ref: "./insurance/motor-insurance/template/on_select1.yaml"          

motor-based-insurance2:
  condition:
      operation:
        type: AND
        input:
          value:
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.message.order.items.0.id"
                  - "CHILD_ITEM_CI1"
          - operation:
                type: EQUAL
                title: Check search message code
                input:
                  value:
                    - operation:
                        type: READ
                        input:
                          value: "req_body.message.order.items.0.xinput.form_response.submission_id"
                    - "F04_SUBMISSION_ID"
          
  callback: "on_select"
  uri:
    $ref: ""
  delay: 300
  payload:
    $ref: "./insurance/motor-insurance/template/on_select2.yaml"              


# motor-based-insurance3:
#   condition:
#       operation:
#         type: AND
#         input:
#           value:
#           - operation:
#               type: EQUAL
#               title: Check search message code
#               input:
#                 value:
#                   - operation:
#                       type: READ
#                       input:
#                         value: "req_body.message.order.items.0.id"
#                   - "CHILD_ITEM_CI1"
#           - operation:
#                 type: EQUAL
#                 title: Check search message code
#                 input:
#                   value:
#                     - operation:
#                         type: READ
#                         input:
#                           value: "req_body.message.order.items.0.xinput.form_response.submission_id"
#                     - "form2_submissionid"
          
#   callback: "on_select"
#   uri:
#     $ref: ""
#   delay: 300
#   payload:
#     $ref: "./insurance/motor-insurance/template/on_select2.yaml"       

# motor-based-insurance4:
#   condition:
#       operation:
#         type: AND
#         input:
#           value:
#           - operation:
#               type: EQUAL
#               title: Check search message code
#               input:
#                 value:
#                   - operation:
#                       type: READ
#                       input:
#                         value: "req_body.message.order.items.0.id"
#                   - "CHILD_ITEM_CI1"
#           - operation:
#                 type: EQUAL
#                 title: Check search message code
#                 input:
#                   value:
#                     - operation:
#                         type: READ
#                         input:
#                           value: "req_body.message.order.items.0.xinput.form_response.submission_id"
#                     - "form3_submissionid"
          
#   callback: "on_select"
#   uri:
#     $ref: ""
#   delay: 300
#   payload:
#     $ref: "./insurance/motor-insurance/template/on_select3.yaml"     


# INVESTMENT
mutual-funds-1:
  condition:
      operation:
        type: AND
        input:
          value:
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.message.order.items.0.id"
                  - "ITEM_ID_1_MUTUAL-FUNDS"
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.message.order.items.0.xinput.form_response.submission_id"
                  - "undefined"
  callback: "on_select"
  uri:
    $ref: ""
  delay: 300
  payload:
    $ref: "./investment/mutual-funds/template/on_select-1.yaml"     


mutual-funds-2:
  condition:
      operation:
        type: AND
        input:
          value:
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.message.order.items.0.id"
                  - "ITEM_ID_1_MUTUAL-FUNDS"
          - operation:
                type: EQUAL
                title: Check search message code
                input:
                  value:
                    - operation:
                        type: READ
                        input:
                          value: "req_body.message.order.items.0.xinput.form_response.submission_id"
                    - "F01_SUBMISSION_ID"
  callback: "on_select"
  uri:
    $ref: ""
  delay: 300
  payload:
    $ref: "./investment/mutual-funds/template/on_select-2.yaml"     

